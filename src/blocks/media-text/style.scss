@import '../../css/core/block';

.smb-media-text {
	--smb-media-text--background-color: transparent;
	--smb-media-text--background-image: initial;
	--smb-media-text--color: inherit;
	--smb-media-text--image-position-x: 50%;
	--smb-media-text--image-position-y: 50%;
	--smb-media-text--content-padding: 0px;
	--smb-media-text--direction: column;
	--smb-media-text--style--border--border-color: var(--_lighter-color-gray);

	background-color: var(--smb-media-text--background-color);
	background-image: var(--smb-media-text--background-image);
	color: var(--smb-media-text--color);
	overflow: hidden;

	&.is-style-border {
		border: 1px solid var(--smb-media-text--style--border--border-color);
	}

	&.is-style-border,
	&--has-background {
		--smb-media-text--content-padding: var(--_padding1);

		.smb-media-text__caption {
			margin-bottom: var(--_margin-2);
			padding-inline: var(--smb-media-text--content-padding);
		}
	}

	> .#{ $_prefix }c-row {
		flex-direction: var(--smb-media-text--direction);
	}

	&.smb-media-text--mobile-text > .#{ $_prefix }c-row,
	&.smb-media-text--mobile-text > .#{ $_prefix }c-row--reverse {
		--smb-media-text--direction: column;
	}

	> .#{ $_prefix }c-row--reverse,
	&.smb-media-text--mobile-image > .#{ $_prefix }c-row,
	&.smb-media-text--mobile-image > .#{ $_prefix }c-row--reverse {
		--smb-media-text--direction: column-reverse;
	}

	&__title {
		@include _set-fluid-font-size-level(4);
	}

	&__title,
	.block-editor-rich-text {
		& + .smb-media-text__body {
			margin-top: var(--_margin1);
		}
	}

	&__figure {
		> img,
		> video {
			height: auto;
			width: 100%;
		}

		&--fill {
			position: relative;
			min-height: 250px;
			height: 100%;

			img {
				position: absolute;
				height: 100%;
				width: 100%;
				object-fit: cover;
				object-position: var(--smb-media-text--image-position-x) var(--smb-media-text--image-position-y);
			}
		}
	}

	&__caption {
		margin-top: var(--_margin-2);
		@include _set-font-size-level(-1);
	}

	&__contents-wrapper {
		padding: var(--smb-media-text--content-padding);
	}

	&__body {
		// @include _content();
	}
}

@include _media-min(lg) {
	.smb-media-text[data-sm-split-point="lg"] {
		&.is-style-border,
		&.smb-media-text--has-background {
			.smb-media-text__caption {
				padding-inline: initial;
			}

			.c-row--reverse .smb-media-text__caption {
				margin-inline: var(--_margin-2);
			}
		}

		> .#{ $_prefix }c-row {
			--smb-media-text--direction: row;
		}

		> .#{ $_prefix }c-row--reverse {
			--smb-media-text--direction: row-reverse;
		}
	}
}

@include _media-min(md) {
	.smb-media-text[data-sm-split-point="md"] {
		&.is-style-border,
		&.smb-media-text--has-background {
			.smb-media-text__caption {
				padding-inline: initial;
			}

			.c-row--reverse .smb-media-text__caption {
				margin-inline: var(--_margin-2);
			}
		}

		> .#{ $_prefix }c-row {
			--smb-media-text--direction: row;
		}

		> .#{ $_prefix }c-row--reverse {
			--smb-media-text--direction: row-reverse;
		}
	}
}
